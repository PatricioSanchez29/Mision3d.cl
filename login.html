<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Iniciar sesi√≥n - Misi√≥n 3D</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="header-new-style.css" />
  <script>window.GA_MEASUREMENT_ID = window.GA_MEASUREMENT_ID || 'G-XXXXXXXXXX';</script>
  <script src="consent.js"></script>
  <style>
    body.login-page {
      background: #f9fafb;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 0;
    }
    
    .main-content-login {
      flex: 1 0 auto;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 480px;
      padding: 40px 20px 0 20px;
    }
    
    .login-container {
      width: 100%;
      max-width: 420px;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 2px 16px #0001;
      padding: 48px 24px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: stretch;
    }
    
    .login-title {
      font-size: 14px;
      color: #6b7280;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .login-brand {
      font-size: 32px;
      font-weight: 700;
      color: #111827;
      margin-bottom: 30px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .password-input-wrapper {
      position: relative;
    }
    
    .password-toggle {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: #6b7280;
      cursor: pointer;
      padding: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: color 0.2s;
    }
    
    .password-toggle:hover {
      color: #0ea5e9;
    }
    
    .password-toggle svg {
      width: 20px;
      height: 20px;
    }
    
    body.dark .password-toggle {
      color: #94a3b8;
    }
    
    body.dark .password-toggle:hover {
      color: #38bdf8;
    }
    
    .form-label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      color: #374151;
      margin-bottom: 8px;
    }
    
    .form-input {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 15px;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    
    .form-input:focus {
      outline: none;
      border-color: #0ea5e9;
      box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1);
    }
    
    .btn-login {
      width: 100%;
      padding: 14px 24px;
      background: #0ea5e9;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
      margin-top: 10px;
    }
    
    .btn-login:hover {
      background: #0284c7;
    }
    
    .forgot-password {
      text-align: center;
      margin-top: 16px;
    }
    
    .forgot-password a {
      color: #0ea5e9;
      text-decoration: none;
      font-size: 14px;
    }
    
    .forgot-password a:hover {
      text-decoration: underline;
    }
    
    .register-section {
      text-align: center;
    }
    
    .register-title {
      font-size: 20px;
      font-weight: 700;
      color: #111827;
      margin-bottom: 16px;
    }
    
    .register-text {
      font-size: 15px;
      color: #6b7280;
      line-height: 1.6;
      margin-bottom: 24px;
    }
    
    .btn-register {
      display: inline-block;
      padding: 14px 32px;
      background: #0ea5e9;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      transition: background 0.2s;
    }
    
    .btn-register:hover {
      background: #0284c7;
    }
    
    /* Formulario de registro completo */
    .register-form-container {
      display: none;
      max-width: 800px;
      width: 100%;
      background: #fff;
      border-radius: 12px;
      padding: 50px;
      box-shadow: 0 4px 20px rgba(0,0,0,.08);
    }
    
    .register-form-container.active {
      display: block;
    }
    
    .register-form-title {
      font-size: 28px;
      font-weight: 700;
      color: #111827;
      margin-bottom: 30px;
      text-align: center;
    }
    
    .form-checkbox-group {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      margin: 20px 0;
    }
    
    .form-checkbox-group input[type="checkbox"] {
      margin-top: 4px;
      width: 18px;
      height: 18px;
      cursor: pointer;
    }
    
    .form-checkbox-group label {
      font-size: 14px;
      color: #374151;
      cursor: pointer;
    }
    
    .form-checkbox-group a {
      color: #0ea5e9;
      text-decoration: none;
    }
    
    .form-checkbox-group a:hover {
      text-decoration: underline;
    }
    
    /* Requisitos de contrase√±a */
    .password-requirements {
      margin-top: 8px;
      padding: 12px;
      background: #f9fafb;
      border-radius: 6px;
      border: 1px solid #e5e7eb;
    }
    
    .password-requirements small {
      display: block;
      color: #6b7280;
      font-size: 13px;
      margin-bottom: 6px;
      font-weight: 500;
    }
    
    .password-requirements ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .password-requirements li {
      font-size: 13px;
      color: #dc2626;
      padding: 3px 0;
      transition: color 0.2s;
    }
    
    .password-requirements li.valid {
      color: #16a34a;
    }
    
    body.dark .password-requirements {
      background: #1e293b;
      border-color: #334155;
    }
    
    body.dark .password-requirements small {
      color: #94a3b8;
    }
    
    body.dark .password-requirements li {
      color: #ef4444;
    }
    
    body.dark .password-requirements li.valid {
      color: #22c55e;
    }
    
    .form-footer-text {
      text-align: center;
      margin-top: 20px;
      font-size: 14px;
      color: #6b7280;
    }
    
    .form-footer-text a {
      color: #0ea5e9;
      text-decoration: none;
    }
    
    .form-footer-text a:hover {
      text-decoration: underline;
    }
    
    /* Mensaje de confirmaci√≥n */
    .success-message {
      background: #dbeafe;
      border: 1px solid #93c5fd;
      border-radius: 8px;
      padding: 16px 20px;
      margin-bottom: 24px;
      color: #1e40af;
      font-size: 14px;
      line-height: 1.6;
      text-align: center;
      display: none;
    }
    
    .success-message.active {
      display: block;
    }
    
    /* Modo oscuro */
    body.dark.login-page {
      background: #0f172a;
    }
    
    body.dark .login-container {
      background: #1e293b;
    }
    
    body.dark .login-left {
      background: #0f172a;
    }
    
    body.dark .login-brand,
    body.dark .register-title {
      color: #f1f5f9;
    }
    
    body.dark .form-label {
      color: #cbd5e1;
    }
    
    body.dark .form-input {
      background: #334155;
      border-color: #475569;
      color: #f1f5f9;
    }
    
    body.dark .form-input:focus {
      border-color: #0ea5e9;
    }
    
    body.dark .register-text {
      color: #94a3b8;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .login-container {
        grid-template-columns: 1fr;
        gap: 0;
      }
      
      .login-left,
      .login-right {
        padding: 40px 30px;
      }
      
      .login-right {
        border-top: 1px solid #e5e7eb;
      }
      
      body.dark .login-right {
        border-top-color: #334155;
      }
    }
  </style>
<!-- Header con logo para mantener consistencia -->
</head>
<body class="login-page">
  <header class="header">
    <!-- Bot√≥n Hamburguesa (solo m√≥vil) -->
    <button class="hamburger-btn" id="hamburgerBtn" aria-label="Abrir men√∫">
      <div class="hamburger-icon">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </button>

    <h1 class="logo" style="margin:0;display:flex;align-items:center">
      <a href="index.html" style="display:inline-flex;align-items:center;text-decoration:none">
        <img src="img/Logo_Mision3d.jpg" alt="Misi√≥n 3D" class="logo-img" onerror="this.onerror=null;this.replaceWith(Object.assign(document.createElement('span'),{className:'logo-text',textContent:'Misi√≥n 3D'}));" />
      </a>
    </h1>
    <nav class="nav">
      <a href="index.html">Inicio</a>
      <a href="catalogo.html" class="active">Cat√°logo</a>
      <a href="index.html#contacto">Contacto</a>
    </nav>
    <div class="search-header">
      <div class="advanced-search-bar">
        <select id="headerCategorySelect" class="category-select">
          <option value="all">Todas las categor√≠as</option>
        </select>
        <input type="text" id="searchInput" placeholder="¬øQu√© est√°s buscando?" class="search-input" autocomplete="off">
        <button type="button" id="headerSearchBtn" class="search-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
        </button>
      </div>
      <div id="searchSuggestions" class="search-suggestions"></div>
      <div id="headerTrendChips" class="trend-chips" aria-label="B√∫squedas populares"></div>
    </div>
    <div class="right-actions" style="display:flex;align-items:center;gap:10px">
      <div id="userArea" class="user-area">
        <a href="login.html" id="loginLink" class="btn small outline">Ingresar</a>
      </div>
      <button class="cart-btn" id="openCart" aria-label="Abrir carrito">üõí <span id="cartCount">0</span></button>
    </div>
  </header>
  <div class="main-content-login">
    <div class="login-container">
      <div style="margin-bottom: 24px; color: #7a7a7a; font-size: 15px;">
        <a href="index.html" style="color: #009fe3; text-decoration: none; font-weight: 500;">Inicio</a> &gt; Registro de Clientes
      </div>
      <div style="font-size: 13px; color: #888; margin-bottom: 8px;">INGRESA A</div>
      <div style="font-size: 2.2rem; font-weight: bold; margin-bottom: 24px; color: #111;">MISION3D.CL</div>
      <form id="loginForm">
        <div class="form-group">
          <label class="form-label" for="loginEmail">Correo electr√≥nico</label>
          <input type="email" id="loginEmail" class="form-input" required autocomplete="email">
        </div>
        <button type="submit" class="btn-login">Continuar</button>
      </form>
    </div>
  </div>

  <!-- Formulario de registro completo -->
  <div class="register-form-container" id="registerFormContainer">
    <div class="breadcrumb">
      <a href="index.html" style="display:inline-flex;align-items:center;text-decoration:none">Inicio</a> > Registro de Cliente
    </div>
    
    <h1 class="register-form-title">CREAR UNA CUENTA</h1>
    
    <form id="registerForm">
      <div class="form-group">
        <label class="form-label" for="regEmail">E-mail *</label>
        <input 
          type="email" 
          id="regEmail" 
          class="form-input" 
          required 
          autocomplete="email"
          pattern="[^\s@]+@[^\s@]+\.[^\s@]+"
          title="Por favor ingresa un email v√°lido (ejemplo: usuario@dominio.com)"
        >
      </div>
      <div class="form-group">
        <label class="form-label" for="regPhone">Tel√©fono *</label>
        <input type="tel" id="regPhone" class="form-input" required autocomplete="tel">
      </div>
      
      <div class="form-checkbox-group">
        <input type="checkbox" id="termsCheckbox" required>
        <label for="termsCheckbox">
          He le√≠do y acepto los <a href="#" onclick="alert('Demo: T√©rminos y Condiciones'); return false;">T√©rminos y Condiciones</a>.
        </label>
      </div>
      
      <button type="submit" class="btn-login">CONFIRMAR</button>
      
      <div class="form-footer-text">
        ¬øYa tienes una cuenta? <a href="#" id="backToLogin">Puedes ingresar aqu√≠</a>.
      </div>
    </form>
  </div>

  <!-- Footer igual que en la p√°gina de inicio -->
  <footer style="background: #181f2a; color: #bfc7d5; padding: 40px 0 20px 0; margin-top: 0; width: 100vw;">
    <div style="max-width: 1200px; margin: 0 auto; display: flex; flex-wrap: wrap; justify-content: space-between; align-items: flex-start; gap: 32px;">
      <div style="flex: 1; min-width: 220px; display: flex; flex-direction: column; align-items: center;">
        <img src="img/Logo_Mision3d.jpg" alt="Mision3D Logo" style="width: 110px; margin-bottom: 12px;">
        <div style="font-size: 1.1rem; font-weight: 500;">Impresi√≥n 3D personalizada</div>
        <div style="font-size: 0.98rem; color: #bfc7d5;">Transforma tus ideas en realidad</div>
      </div>
      <div style="flex: 1; min-width: 220px; text-align: center;">
        <div style="color: #009fe3; font-weight: bold; font-size: 1.1rem; margin-bottom: 8px;">Contacto</div>
        <div><span style="margin-right: 6px;">üìß</span>mision3d.cl@gmail.com</div>
        <div><span style="margin-right: 6px;">üìç</span>La Florida<br>Santiago, Chile</div>
        <div><span style="margin-right: 6px;">‚è∞</span>Lunes a viernes, 9:00 - 18:00 hrs</div>
      </div>
      <div style="flex: 1; min-width: 220px; text-align: center;">
        <div style="color: #009fe3; font-weight: bold; font-size: 1.1rem; margin-bottom: 8px;">Informaci√≥n Legal</div>
        <div>Mision3D SpA</div>
        <div style="margin-top: 8px;"><a href="privacidad.html" style="color: #009fe3; text-decoration: none; margin-right: 12px;">Privacidad</a><a href="terminos.html" style="color: #009fe3; text-decoration: none;">T√©rminos</a></div>
      </div>
    </div>
    <hr style="border: none; border-top: 1px solid #2a3140; margin: 32px 0 16px 0;">
    <div style="text-align: center; color: #bfc7d5; font-size: 0.95rem;">¬© 2025 Misi√≥n 3D - Todos los derechos reservados</div>
  </footer>

  <script>
    // Funci√≥n para mostrar/ocultar contrase√±a
    function togglePassword(inputId, button) {
      const input = document.getElementById(inputId);
      const eyeOpen = button.querySelector('.eye-open');
      const eyeClosed = button.querySelector('.eye-closed');
      
      if (input.type === 'password') {
        input.type = 'text';
        eyeOpen.style.display = 'none';
        eyeClosed.style.display = 'block';
      } else {
        input.type = 'password';
        eyeOpen.style.display = 'block';
        eyeClosed.style.display = 'none';
      }
    }
    
    (function(){
      // Heredar tema oscuro si existe
      if(localStorage.getItem('theme')==='dark') document.body.classList.add('dark');
      
      // Formulario de login
      const loginForm = document.getElementById('loginForm');
      loginForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = document.getElementById('loginEmail').value.trim();
        if (!email) {
          alert('Por favor ingresa tu correo electr√≥nico');
          return;
        }
        // Buscar usuario registrado
        const registeredUsers = JSON.parse(localStorage.getItem('registeredUsers') || '[]');
        const user = registeredUsers.find(u => u.email.toLowerCase() === email.toLowerCase());
        if (!user) {
          alert('Correo no registrado. Por favor crea una cuenta primero.');
          return;
        }
        // Generar nombre base a partir del correo
        const nombre = user.name || email.split('@')[0].replace(/[-._]/g,' ').replace(/\b\w/g, c=>c.toUpperCase());
        // Guardar sesi√≥n
        localStorage.setItem('userSession', JSON.stringify({
          name: nombre || 'Usuario',
          email: user.email,
          phone: user.phone,
          guest: false,
          ts: Date.now()
        }));
        localStorage.setItem('currentUser', JSON.stringify({
          nombre: nombre || 'Usuario',
          email: user.email
        }));
        localStorage.setItem('justLoggedIn','1');
        window.location.href = 'index.html';
      });
      
      // Bot√≥n crear cuenta - mostrar formulario de registro
      const registerBtn = document.getElementById('registerBtn');
      const loginContainer = document.querySelector('.login-container');
      const registerFormContainer = document.getElementById('registerFormContainer');
      const backToLoginLink = document.getElementById('backToLogin');
      
      if (registerBtn) {
        registerBtn.addEventListener('click', () => {
          loginContainer.style.display = 'none';
          registerFormContainer.classList.add('active');
        });
      }
      
      // Volver al login
      if (backToLoginLink) {
        backToLoginLink.addEventListener('click', (e) => {
          e.preventDefault();
          registerFormContainer.classList.remove('active');
          loginContainer.style.display = 'grid';
        });
      }
      
      // Validaci√≥n en tiempo real de la contrase√±a
      const regPasswordInput = document.getElementById('regPassword');
      if (regPasswordInput) {
        regPasswordInput.addEventListener('input', () => {
          const password = regPasswordInput.value;
          
          // Validar longitud
          const lengthReq = document.getElementById('req-length');
          if (password.length >= 8) {
            lengthReq.classList.add('valid');
            lengthReq.textContent = '‚úì M√≠nimo 8 caracteres';
          } else {
            lengthReq.classList.remove('valid');
            lengthReq.textContent = '‚úó M√≠nimo 8 caracteres';
          }
          
          // Validar letra
          const letterReq = document.getElementById('req-letter');
          if (/[a-zA-Z]/.test(password)) {
            letterReq.classList.add('valid');
            letterReq.textContent = '‚úì Al menos una letra';
          } else {
            letterReq.classList.remove('valid');
            letterReq.textContent = '‚úó Al menos una letra';
          }
          
          // Validar n√∫mero
          const numberReq = document.getElementById('req-number');
          if (/[0-9]/.test(password)) {
            numberReq.classList.add('valid');
            numberReq.textContent = '‚úì Al menos un n√∫mero';
          } else {
            numberReq.classList.remove('valid');
            numberReq.textContent = '‚úó Al menos un n√∫mero';
          }
          
          // Validar signo especial
          const specialReq = document.getElementById('req-special');
          if (/[!@#$%^&*(),.?":{}|<>]/.test(password)) {
            specialReq.classList.add('valid');
            specialReq.textContent = '‚úì Al menos un signo especial (!@#$%^&*)';
          } else {
            specialReq.classList.remove('valid');
            specialReq.textContent = '‚úó Al menos un signo especial (!@#$%^&*)';
          }
        });
      }
      
      // Formulario de registro completo
      const registerForm = document.getElementById('registerForm');
      if (registerForm) {
        registerForm.addEventListener('submit', (e) => {
          e.preventDefault();
          
          const email = document.getElementById('regEmail').value.trim();
          const phone = document.getElementById('regPhone').value.trim();
          const password = document.getElementById('regPassword').value;
          const passwordConfirm = document.getElementById('regPasswordConfirm').value;
          const termsAccepted = document.getElementById('termsCheckbox').checked;
          
          // Validaci√≥n de campos vac√≠os
          if (!email || !phone || !password || !passwordConfirm) {
            alert('Por favor completa todos los campos');
            return;
          }
          
          // Validaci√≥n de formato de email
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(email)) {
            alert('Por favor ingresa un email v√°lido (ejemplo: usuario@dominio.com)');
            return;
          }
          
          // Verificar si el email ya est√° registrado
          const registeredUsers = JSON.parse(localStorage.getItem('registeredUsers') || '[]');
          const emailExists = registeredUsers.find(user => user.email.toLowerCase() === email.toLowerCase());
          
          if (emailExists) {
            alert('Este correo electr√≥nico ya est√° registrado. Por favor inicia sesi√≥n o usa otro correo.');
            return;
          }
          
          // Validaci√≥n de contrase√±a estricta:
          // - M√≠nimo 8 caracteres
          // - Al menos una letra
          // - Al menos un n√∫mero
          // - Al menos un signo especial (!@#$%^&*(),.?":{}|<>)
          if (password.length < 8) {
            alert('La contrase√±a debe tener al menos 8 caracteres');
            return;
          }
          
          const hasLetter = /[a-zA-Z]/.test(password);
          const hasNumber = /[0-9]/.test(password);
          const hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(password);
          
          if (!hasLetter) {
            alert('La contrase√±a debe contener al menos una letra');
            return;
          }
          
          if (!hasNumber) {
            alert('La contrase√±a debe contener al menos un n√∫mero');
            return;
          }
          
          if (!hasSpecial) {
            alert('La contrase√±a debe contener al menos un signo especial (!@#$%^&*(),.?":{}|<>)');
            return;
          }
          
          // Validaci√≥n de coincidencia de contrase√±as
          if (password !== passwordConfirm) {
            alert('Las contrase√±as no coinciden');
            return;
          }
          
          // Validaci√≥n de t√©rminos
          if (!termsAccepted) {
            alert('Debes aceptar los t√©rminos y condiciones');
            return;
          }
          
          // Generar nombre base a partir del correo
          const base = email.split('@')[0];
          const nombre = base.replace(/[-._]/g,' ').replace(/\b\w/g, c=>c.toUpperCase());
          
          // Guardar usuario en la lista de registrados
          let usersDB = JSON.parse(localStorage.getItem('registeredUsers') || '[]');
          usersDB.push({
            email: email.toLowerCase(),
            name: nombre,
            phone,
            password, // En producci√≥n, esto deber√≠a estar hasheado
            registeredAt: Date.now()
          });
          localStorage.setItem('registeredUsers', JSON.stringify(usersDB));
          
          // Guardar sesi√≥n
          localStorage.setItem('userSession', JSON.stringify({
            name: nombre || 'Usuario',
            email,
            phone,
            guest: false,
            ts: Date.now()
          }));
          // Guardar tambi√©n como currentUser para el men√∫
          localStorage.setItem('currentUser', JSON.stringify({
            nombre: nombre || 'Usuario',
            email
          }));
          
          // Ocultar formulario de registro y mostrar mensaje de √©xito
          registerFormContainer.classList.remove('active');
          loginContainer.style.display = 'grid';
          
          // Mostrar mensaje de √©xito
          const successMessage = document.getElementById('successMessage');
          if (successMessage) {
            successMessage.classList.add('active');
            
            // Pre-llenar el email en el formulario de login
            document.getElementById('loginEmail').value = email;
            
            // Scroll al inicio suave
            window.scrollTo({ top: 0, behavior: 'smooth' });
          }
          
          // Opcional: redirigir autom√°ticamente despu√©s de 3 segundos
          // setTimeout(() => {
          //   localStorage.setItem('justLoggedIn','1');
          //   window.location.href = 'index.html';
          // }, 3000);
        });
      }
      
      // ELIMINADO: Ya no redirige autom√°ticamente si hay sesi√≥n
      // Permitir acceso al login incluso con sesi√≥n activa
      // El usuario puede querer cerrar sesi√≥n o ver su perfil
      
      // Mostrar informaci√≥n de sesi√≥n si existe
      const existing = localStorage.getItem('userSession');
      if(existing) {
        try {
          const userData = JSON.parse(existing);
          const loginLeft = document.querySelector('.login-left');
          const loginRight = document.querySelector('.login-right');
          
          // Modificar el contenido para mostrar perfil
          if (loginLeft && loginRight) {
            loginLeft.innerHTML = `
              <div class="breadcrumb">
                <a href="index.html">Inicio</a> > Mi Cuenta
              </div>
              
              <div class="login-title">MI CUENTA</div>
              <h1 class="login-brand">MISION3D.CL</h1>
              
              <div class="message-box" style="background: #f0f9ff; padding: 25px; border-radius: 8px; margin: 20px 0;">
                <h3 style="margin: 0 0 10px 0; color: #1e40af;">üë§ Informaci√≥n de la cuenta</h3>
                <p style="margin: 5px 0;"><strong>Nombre:</strong> ${userData.name || 'Usuario'}</p>
                <p style="margin: 5px 0;"><strong>Email:</strong> ${userData.email || 'No especificado'}</p>
                ${userData.phone ? `<p style="margin: 5px 0;"><strong>Tel√©fono:</strong> ${userData.phone}</p>` : ''}
                <p style="margin: 5px 0;"><strong>Tipo:</strong> ${userData.guest ? 'Invitado' : 'Cuenta registrada'}</p>
              </div>
              
              <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 20px;">
                <button onclick="window.location.href='index.html'" class="btn-login" style="background: #0ea5e9;">
                  Ir al Inicio
                </button>
                <button id="logoutBtnProfile" class="btn-login" style="background: #dc2626;">
                  Cerrar Sesi√≥n
                </button>
              </div>
            `;
            
            loginRight.innerHTML = `
              <div class="register-section">
                <h2 class="register-title">¬øQuieres explorar nuestros productos?</h2>
                <p class="register-text">
                  Visita nuestro cat√°logo y descubre todos los productos de impresi√≥n 3D que tenemos para ti.
                </p>
                <button type="button" class="btn-register" onclick="window.location.href='catalogo.html'">
                  VER CAT√ÅLOGO
                </button>
              </div>
            `;
            
            // Agregar evento al bot√≥n de cerrar sesi√≥n
            const logoutBtn = document.getElementById('logoutBtnProfile');
            if (logoutBtn) {
              logoutBtn.addEventListener('click', () => {
                if (confirm('¬øEst√°s seguro de que deseas cerrar sesi√≥n?')) {
                  localStorage.removeItem('userSession');
                  localStorage.removeItem('justLoggedIn');
                  localStorage.removeItem('currentUser');
                  window.location.reload();
                }
              });
            }
          }
        } catch (e) {
          console.error('Error al cargar sesi√≥n:', e);
        }
      }
    })();
  </script>
</body>
</html>
