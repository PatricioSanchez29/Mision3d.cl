<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mis Favoritos | Misi√≥n 3D</title>
  <link rel="stylesheet" href="style.css">
  <script>window.GA_MEASUREMENT_ID = window.GA_MEASUREMENT_ID || 'G-XXXXXXXXXX';</script>
  <script src="consent.js"></script>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <!-- Bot√≥n Hamburguesa (solo m√≥vil) -->
    <button class="hamburger-btn" id="hamburgerBtn" aria-label="Abrir men√∫">
      <div class="hamburger-icon">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </button>

    <h1 class="logo" style="margin:0;display:flex;align-items:center">
      <a href="index.html" style="display:inline-flex;align-items:center;text-decoration:none">
        <img src="img/Logo_Mision3d.jpg" alt="Misi√≥n 3D" class="logo-img" onerror="this.onerror=null;this.replaceWith(Object.assign(document.createElement('span'),{className:'logo-text',textContent:'Misi√≥n 3D'}));" />
      </a>
    </h1>
    <nav class="nav">
      <a href="catalogo.html" id="navCatalog">Cat√°logo</a>
      <a href="index.html#nosotros">Nosotros</a>
      <a href="index.html#contacto">Contacto</a>
    </nav>
    <div class="search-header">
      <input type="text" id="searchInput" placeholder="Buscar producto..." class="search-bar" autocomplete="off" style="max-width:220px;width:100%;padding:8px 12px;border-radius:8px;border:1px solid #ccc;">
      <div id="searchSuggestions" class="search-suggestions"></div>
    </div>
    <div class="right-actions" style="display:flex;align-items:center;gap:10px">
      <div id="userArea" class="user-area">
        <a href="login.html" id="loginLink" class="btn small outline">Ingresar</a>
      </div>
      <button id="wishlistBtn" onclick="window.location.href='favoritos.html'" title="Mis Favoritos">
        ‚ù§Ô∏è
        <span id="wishlistCount">0</span>
      </button>
      <button class="cart-btn" id="openCart" aria-label="Abrir carrito">
        üõí <span id="cartCount">0</span>
      </button>
    </div>
  </header>

  <!-- Banner de anuncios -->
  <div class="announcement-bar"><div class="ann-track"><span>Santiago despacho 2 a 3 d√≠as h√°biles ‚Ä¢ Regiones env√≠o 4 a 5 d√≠as h√°biles ‚Ä¢ Pedidos personalizados: cotizaci√≥n gratuita ‚Ä¢ Soporte directo v√≠a WhatsApp ‚Ä¢ Santiago despacho 2 a 3 d√≠as h√°biles ‚Ä¢ Regiones env√≠o 4 a 5 d√≠as h√°biles ‚Ä¢ Pedidos personalizados: cotizaci√≥n gratuita ‚Ä¢ Soporte directo v√≠a WhatsApp ‚Ä¢ Santiago despacho 2 a 3 d√≠as h√°biles ‚Ä¢ Regiones env√≠o 4 a 5 d√≠as h√°biles ‚Ä¢ Pedidos personalizados: cotizaci√≥n gratuita ‚Ä¢ Soporte directo v√≠a WhatsApp ‚Ä¢ Santiago despacho 2 a 3 d√≠as h√°biles ‚Ä¢ Regiones env√≠o 4 a 5 d√≠as h√°biles ‚Ä¢ Pedidos personalizados: cotizaci√≥n gratuita ‚Ä¢ Soporte directo v√≠a WhatsApp ‚Ä¢ </span></div></div>

  <!-- Contenido principal -->
  <main class="wishlist-page">
    <h1>Mis Favoritos</h1>
    <div id="wishlistGrid" class="grid"></div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 40px; margin-bottom: 30px; align-items: start;">
        <div style="display: flex; align-items: center; gap: 10px;">
          <img src="img/Logo_Mision3d.jpg" alt="Misi√≥n 3D" class="footer-logo remove-white" style="width: 80px; flex-shrink: 0;" />
          <p style="color: #888; font-size: 0.9rem; line-height: 1.6; margin: 0;">
            Impresi√≥n 3D personalizada<br>
            Transforma tus ideas en realidad
          </p>
        </div>
        
        <div>
          <h4 style="margin: 0 0 15px 0; color: #0052cc; font-size: 1rem;">Contacto</h4>
          <p style="margin: 8px 0; font-size: 0.9rem; color: #666;">
            üìß <a href="mailto:mision3d.cl@gmail.com" style="color: #666; text-decoration: none; transition: color 0.2s;">mision3d.cl@gmail.com</a>
          </p>
          <p style="margin: 8px 0; font-size: 0.9rem; color: #666;">
            üìç La Florida<br>
            <span style="margin-left: 20px;">Santiago, Chile</span>
          </p>
          <p style="margin: 8px 0; font-size: 0.9rem; color: #666;">
            üïê Lunes a viernes, 9:00 - 18:00 hrs
          </p>
        </div>
        
        <div>
          <h4 style="margin: 0 0 15px 0; color: #0052cc; font-size: 1rem;">Informaci√≥n Legal</h4>
          <p style="margin: 8px 0; font-size: 0.9rem; color: #666;">
            Mision3D SpA
          </p>
          <p style="margin: 20px 0 0 0;">
            <a href="privacidad.html" style="color: #0052cc; text-decoration: none; margin-right: 15px; transition: color 0.2s;">Privacidad</a>
            <a href="terminos.html" style="color: #0052cc; text-decoration: none; transition: color 0.2s;">T√©rminos</a>
          </p>
        </div>
      </div>
      
      <div style="text-align: center; padding: 20px 0; border-top: 1px solid #333; margin-top: 20px;">
        <p style="margin: 0; font-size: 0.85rem; color: #888;">&copy; 2025 Misi√≥n 3D - Todos los derechos reservados</p>
      </div>
    </div>
  </footer>

  <!-- Carrito lateral -->
  <div class="cart" id="cartDrawer">
    <div class="cart-header">
      <h3>Carrito</h3>
      <button id="closeCart" style="background:none;border:none;font-size:1.5rem;cursor:pointer">√ó</button>
    </div>
    <div class="cart-items" id="cartItems"></div>
    <div class="cart-footer">
      <strong>Total: <span id="cartTotal">$0</span></strong>
      <button class="btn primary" id="checkout" style="width:100%;margin-top:10px">Finalizar compra</button>
      <button id="clearCart" style="background:#dc2626;color:#fff;border:none;padding:8px;border-radius:6px;cursor:pointer;margin-top:8px;width:100%">Vaciar carrito</button>
    </div>
  </div>

  <!-- Overlay -->
  <div class="overlay" id="overlay"></div>

  <!-- Toast -->
  <div id="toast" class="toast">¬°Producto agregado al carrito!</div>

  <!-- Cookie Consent Banner -->
  <div id="cookie-banner" class="cookie-banner" style="display:none">
    <div class="cookie-content">
      <p><strong>üç™ Usamos cookies</strong> para mejorar tu experiencia. Al continuar navegando, aceptas nuestra 
        <a href="privacidad.html" style="color:#fff;text-decoration:underline">pol√≠tica de privacidad</a>.
      </p>
      <div class="cookie-buttons">
        <button id="cookie-accept" class="cookie-btn accept">Aceptar</button>
        <button id="cookie-reject" class="cookie-btn reject">Rechazar</button>
        <button id="cookie-close" class="cookie-btn close" title="Cerrar">√ó</button>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="ui-components.js"></script>
  <script src="validations.js"></script>
  <script src="script.js"></script>
  <script src="ux-enhancements.js"></script>
  <script src="wishlist.js"></script>
  <script src="mobile-menu.js"></script>
  <script type="module" src="firebase-rtdb.js"></script>
</body>
</html>
